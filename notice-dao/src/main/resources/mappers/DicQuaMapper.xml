<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.silita.notice.dao.DicQuaMapper">


    <!--获取一级资质-->
    <select id="queryQuaOne" resultType="java.util.Map" parameterType="map">
        SELECT
        d.id,
        d.qua_name AS quaName,
        d.qua_code AS quaCode
        FROM
        biaodaa_admin.dic_qua d
        WHERE d.level = '1'
        and (d.biz_type = '0'
        or d.biz_type = #{bizType})
        order by order_no
    </select>
    <!--获取二级资质-->
    <select id="queryQuaTwo" resultType="java.util.Map" parameterType="map">
        SELECT
        d.id,
        d.bench_name AS benchName,
        d.qua_code AS quaCode
        FROM
        biaodaa_admin.dic_qua d
        WHERE d.level = #{noticeLevel}
        and d.parent_id=#{zzIdOne}
        and d.qua_name &lt;&gt; '地质灾害防治工程'
        order by order_no
    </select>

    <!--查询非标准名称的资质-->
    <select id="queryQual" parameterType="java.util.Map" resultType="java.util.Map">
        SELECT
            id,
            parent_id AS parentId,
            qua_name AS quaName,
            qua_code AS quaCode
        FROM
        dic_qua
        WHERE `level` = #{level}
        AND bench_name IS NULL
        AND qua_name &lt;&gt; '地质灾害防治工程'
        AND (biz_type = 0
        OR biz_type = #{bizType})
        ORDER BY order_no
    </select>

    <!--查询所有的标准名称资质-->
    <select id="queryBenchQual" parameterType="java.lang.String" resultType="java.util.Map">
        SELECT
            id,
            parent_id AS parentId,
            qua_name AS quaName,
            qua_code AS quaCode,
            `level` AS quaLevel,
            bench_name AS benchName
        FROM
        dic_qua
        WHERE  bench_name IS NOT NULL
        AND qua_name &lt;&gt; '地质灾害防治工程'
        AND (biz_type = 0
        OR biz_type = #{bizType})
        ORDER BY order_no
    </select>
</mapper>